!function(n){var t={};function r(e){if(t[e])return t[e].exports;var u=t[e]={i:e,l:!1,exports:{}};return n[e].call(u.exports,u,u.exports,r),u.l=!0,u.exports}r.m=n,r.c=t,r.d=function(n,t,e){r.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:e})},r.r=function(n){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},r.t=function(n,t){if(1&t&&(n=r(n)),8&t)return n;if(4&t&&"object"===typeof n&&n&&n.__esModule)return n;var e=Object.create(null);if(r.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var u in n)r.d(e,u,function(t){return n[t]}.bind(null,u));return e},r.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return r.d(t,"a",t),t},r.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},r.p="/",r(r.s=70)}({1:function(n,t,r){"use strict";r.d(t,"k",(function(){return e})),r.d(t,"a",(function(){return u})),r.d(t,"n",(function(){return o})),r.d(t,"l",(function(){return c})),r.d(t,"e",(function(){return i})),r.d(t,"g",(function(){return f})),r.d(t,"R",(function(){return E})),r.d(t,"S",(function(){return d})),r.d(t,"x",(function(){return a})),r.d(t,"y",(function(){return _})),r.d(t,"w",(function(){return S})),r.d(t,"z",(function(){return T})),r.d(t,"v",(function(){return s})),r.d(t,"c",(function(){return O})),r.d(t,"d",(function(){return A})),r.d(t,"b",(function(){return b})),r.d(t,"p",(function(){return l})),r.d(t,"q",(function(){return p})),r.d(t,"o",(function(){return C})),r.d(t,"D",(function(){return R})),r.d(t,"E",(function(){return I})),r.d(t,"C",(function(){return y})),r.d(t,"K",(function(){return U})),r.d(t,"M",(function(){return m})),r.d(t,"H",(function(){return G})),r.d(t,"L",(function(){return j})),r.d(t,"N",(function(){return v})),r.d(t,"I",(function(){return g})),r.d(t,"F",(function(){return P})),r.d(t,"G",(function(){return V})),r.d(t,"J",(function(){return M})),r.d(t,"P",(function(){return D})),r.d(t,"Q",(function(){return h})),r.d(t,"O",(function(){return L})),r.d(t,"W",(function(){return w})),r.d(t,"X",(function(){return N})),r.d(t,"Z",(function(){return F})),r.d(t,"Y",(function(){return x})),r.d(t,"ab",(function(){return K})),r.d(t,"cb",(function(){return Q})),r.d(t,"bb",(function(){return W})),r.d(t,"i",(function(){return k})),r.d(t,"j",(function(){return H})),r.d(t,"h",(function(){return Y})),r.d(t,"r",(function(){return q})),r.d(t,"t",(function(){return z})),r.d(t,"u",(function(){return B})),r.d(t,"s",(function(){return J})),r.d(t,"m",(function(){return X})),r.d(t,"f",(function(){return Z})),r.d(t,"A",(function(){return $})),r.d(t,"B",(function(){return nn})),r.d(t,"U",(function(){return tn})),r.d(t,"V",(function(){return rn})),r.d(t,"T",(function(){return en}));var e="LOGGED_OUT_OF_POCKET",u="ARCHIVE_ITEM",o="REMOVE_ITEM",c="OPEN_POCKET",i="AUTH_CODE_RECEIVED",f="COLOR_MODE_CHANGE",E="TOGGLE_ON_SAVE_RECS",d="TOGGLE_TWITTER",a="SAVE_TO_POCKET_REQUEST",_="SAVE_TO_POCKET_SUCCESS",S="SAVE_TO_POCKET_FAILURE",T="SAVE_TO_POCKET_UPDATE",s="SAVE_TO_POCKET_COMPLETE",O="ARCHIVE_ITEM_REQUEST",A="ARCHIVE_ITEM_SUCCESS",b="ARCHIVE_ITEM_FAILURE",l="REMOVE_ITEM_REQUEST",p="REMOVE_ITEM_SUCCESS",C="REMOVE_ITEM_FAILURE",R="SUGGESTED_TAGS_REQUEST",I="SUGGESTED_TAGS_SUCCESS",y="SUGGESTED_TAGS_FAILURE",U="TAG_ACTIVATE",m="TAG_DEACTIVATE",G="TAGS_DEACTIVATE",j="TAG_ADD",v="TAG_REMOVE",g="TAGS_REMOVE",P="TAGS_ADDED_FAILURE",V="TAGS_ADDED_SUCCESS",M="TAGS_SYNC",D="TAG_SYNC_REQUEST",h="TAG_SYNC_SUCCESS",L="TAG_SYNC_FAILURE",w="UPDATE_STORED_TAGS",N="USER_LOG_IN",F="USER_LOG_IN_SUCCESS",x="USER_LOG_IN_FAILURE",K="USER_LOG_OUT",Q="USER_LOG_OUT_SUCCESS",W="USER_LOG_IN_FAILURE",k="GET_RECS_REQUEST",H="GET_RECS_SUCCESS",Y="GET_RECS_FAILURE",q="SAVE_REC",z="SAVE_REC_REQUEST",B="SAVE_REC_SUCCESS",J="SAVE_REC_FAILURE",X="OPEN_REC",Z="CHECK_TWITTER_INTEGRATION",$="START_TWITTER_INTEGRATION",nn="STOP_TWITTER_INTEGRATION",tn="TWITTER_SAVE_REQUEST",rn="TWITTER_SAVE_SUCCESS",en="TWITTER_SAVE_FAILURE"},10:function(n,t,r){"use strict";var e=r(11);var u=r(21);function o(n){return function(n){if(Array.isArray(n))return Object(e.a)(n)}(n)||function(n){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(n))return Array.from(n)}(n)||Object(u.a)(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}r.d(t,"a",(function(){return o}))},11:function(n,t,r){"use strict";function e(n,t){(null==t||t>n.length)&&(t=n.length);for(var r=0,e=new Array(t);r<t;r++)e[r]=n[r];return e}r.d(t,"a",(function(){return e}))},16:function(n,t,r){"use strict";r.d(t,"b",(function(){return e})),r.d(t,"d",(function(){return u})),r.d(t,"a",(function(){return o})),r.d(t,"c",(function(){return c}));r(10);function e(n){return n.match(/^(?:https?:\/\/)?(?:[^@\n]+@)?(?:www\.)?([^:/\n?=]+)/im)[1]}function u(n){return"[object Function]"===Object.prototype.toString.call(n)}function o(n){return n.filter((function(n){return n&&"undefined"!==typeof n}))}function c(n){return!0===n||"true"===n||1===n||1===parseInt(n,10)}},21:function(n,t,r){"use strict";r.d(t,"a",(function(){return u}));var e=r(11);function u(n,t){if(n){if("string"===typeof n)return Object(e.a)(n,t);var r=Object.prototype.toString.call(n).slice(8,-1);return"Object"===r&&n.constructor&&(r=n.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Object(e.a)(n,t):void 0}}},22:function(n,t,r){"use strict";function e(n,t,r){return t in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r,n}r.d(t,"a",(function(){return e}))},3:function(n,t,r){"use strict";r.d(t,"a",(function(){return o}));var e=r(22);function u(n,t){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(n);t&&(e=e.filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.push.apply(r,e)}return r}function o(n){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){Object(e.a)(n,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(r,t))}))}return n}},70:function(n,t,r){n.exports=r(71)},71:function(n,t,r){"use strict";r.r(t);var e=r(22),u=r(3),o=r(9),c=r(1);function i(){var n,t=(n=document.cookie)&&""!==n?n.split(";").map((function(n){return n.trim().split(/(=)/)})).reduce((function(n,t){return Object(u.a)(Object(u.a)({},n),{},Object(e.a)({},t[0],decodeURIComponent(t[2])))}),{}):{},r={userId:t.sess_user_id,token:t.sess_exttok};setTimeout((function(){Object(o.e)({type:c.e,payload:r})}),1e3)}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",i):i()},9:function(n,t,r){"use strict";r.d(t,"e",(function(){return e})),r.d(t,"a",(function(){return u})),r.d(t,"d",(function(){return o})),r.d(t,"c",(function(){return c})),r.d(t,"f",(function(){return f})),r.d(t,"b",(function(){return E}));r(16);function e(n){if("undefined"!==typeof safari)return safari.extension.dispatchMessage(n.type,n.payload);chrome.runtime.sendMessage(n)}function u(){return chrome.cookies}function o(n){chrome.tabs.query({active:!0,currentWindow:!0},(function(t){chrome.tabs.update(t[0].id,{url:n})}))}function c(n,t){var r=!0!==t;return chrome.tabs.create({url:n,active:r})}function i(n,t){var r=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"-dark":"",e="images/".concat(t).concat(r,"-19.png"),u="images/".concat(t).concat(r,"-38.png");chrome.browserAction.setIcon({tabId:n,path:{19:e,38:u}})}function f(n,t){i(n,t?"browser-action-icon-added":"browser-action-icon")}function E(n){return localStorage.getItem(n)}}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3dlYnBhY2svYm9vdHN0cmFwIiwiYWN0aW9ucy5qcyIsIi4uL25vZGVfbW9kdWxlcy9iYWJlbC1wcmVzZXQtcmVhY3QtYXBwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheS5qcyIsIi4uL25vZGVfbW9kdWxlcy9iYWJlbC1wcmVzZXQtcmVhY3QtYXBwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hcnJheVdpdGhvdXRIb2xlcy5qcyIsIi4uL25vZGVfbW9kdWxlcy9iYWJlbC1wcmVzZXQtcmVhY3QtYXBwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9pdGVyYWJsZVRvQXJyYXkuanMiLCIuLi9ub2RlX21vZHVsZXMvYmFiZWwtcHJlc2V0LXJlYWN0LWFwcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vbm9uSXRlcmFibGVTcHJlYWQuanMiLCIuLi9ub2RlX21vZHVsZXMvYmFiZWwtcHJlc2V0LXJlYWN0LWFwcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXJyYXlMaWtlVG9BcnJheS5qcyIsImNvbW1vbi91dGlsaXRpZXMuanMiLCIuLi9ub2RlX21vZHVsZXMvYmFiZWwtcHJlc2V0LXJlYWN0LWFwcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkuanMiLCIuLi9ub2RlX21vZHVsZXMvYmFiZWwtcHJlc2V0LXJlYWN0LWFwcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkuanMiLCIuLi9ub2RlX21vZHVsZXMvYmFiZWwtcHJlc2V0LXJlYWN0LWFwcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMi5qcyIsImNvbnRhaW5lcnMvbG9naW4uanMiLCJjb21tb24vaW50ZXJmYWNlLmpzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiTE9HR0VEX09VVF9PRl9QT0NLRVQiLCJBUkNISVZFX0lURU0iLCJSRU1PVkVfSVRFTSIsIk9QRU5fUE9DS0VUIiwiQVVUSF9DT0RFX1JFQ0VJVkVEIiwiQ09MT1JfTU9ERV9DSEFOR0UiLCJUT0dHTEVfT05fU0FWRV9SRUNTIiwiVE9HR0xFX1RXSVRURVIiLCJTQVZFX1RPX1BPQ0tFVF9SRVFVRVNUIiwiU0FWRV9UT19QT0NLRVRfU1VDQ0VTUyIsIlNBVkVfVE9fUE9DS0VUX0ZBSUxVUkUiLCJTQVZFX1RPX1BPQ0tFVF9VUERBVEUiLCJTQVZFX1RPX1BPQ0tFVF9DT01QTEVURSIsIkFSQ0hJVkVfSVRFTV9SRVFVRVNUIiwiQVJDSElWRV9JVEVNX1NVQ0NFU1MiLCJBUkNISVZFX0lURU1fRkFJTFVSRSIsIlJFTU9WRV9JVEVNX1JFUVVFU1QiLCJSRU1PVkVfSVRFTV9TVUNDRVNTIiwiUkVNT1ZFX0lURU1fRkFJTFVSRSIsIlNVR0dFU1RFRF9UQUdTX1JFUVVFU1QiLCJTVUdHRVNURURfVEFHU19TVUNDRVNTIiwiU1VHR0VTVEVEX1RBR1NfRkFJTFVSRSIsIlRBR19BQ1RJVkFURSIsIlRBR19ERUFDVElWQVRFIiwiVEFHU19ERUFDVElWQVRFIiwiVEFHX0FERCIsIlRBR19SRU1PVkUiLCJUQUdTX1JFTU9WRSIsIlRBR1NfQURERURfRkFJTFVSRSIsIlRBR1NfQURERURfU1VDQ0VTUyIsIlRBR1NfU1lOQyIsIlRBR19TWU5DX1JFUVVFU1QiLCJUQUdfU1lOQ19TVUNDRVNTIiwiVEFHX1NZTkNfRkFJTFVSRSIsIlVQREFURV9TVE9SRURfVEFHUyIsIlVTRVJfTE9HX0lOIiwiVVNFUl9MT0dfSU5fU1VDQ0VTUyIsIlVTRVJfTE9HX0lOX0ZBSUxVUkUiLCJVU0VSX0xPR19PVVQiLCJVU0VSX0xPR19PVVRfU1VDQ0VTUyIsIlVTRVJfTE9HX09VVF9GQUlMVVJFIiwiR0VUX1JFQ1NfUkVRVUVTVCIsIkdFVF9SRUNTX1NVQ0NFU1MiLCJHRVRfUkVDU19GQUlMVVJFIiwiU0FWRV9SRUMiLCJTQVZFX1JFQ19SRVFVRVNUIiwiU0FWRV9SRUNfU1VDQ0VTUyIsIlNBVkVfUkVDX0ZBSUxVUkUiLCJPUEVOX1JFQyIsIkNIRUNLX1RXSVRURVJfSU5URUdSQVRJT04iLCJTVEFSVF9UV0lUVEVSX0lOVEVHUkFUSU9OIiwiU1RPUF9UV0lUVEVSX0lOVEVHUkFUSU9OIiwiVFdJVFRFUl9TQVZFX1JFUVVFU1QiLCJUV0lUVEVSX1NBVkVfU1VDQ0VTUyIsIlRXSVRURVJfU0FWRV9GQUlMVVJFIiwiX3RvQ29uc3VtYWJsZUFycmF5IiwiYXJyIiwiQXJyYXkiLCJpc0FycmF5IiwiYXJyYXlMaWtlVG9BcnJheSIsIml0ZXIiLCJpdGVyYXRvciIsImZyb20iLCJ1bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSIsIlR5cGVFcnJvciIsIl9hcnJheUxpa2VUb0FycmF5IiwibGVuIiwibGVuZ3RoIiwiYXJyMiIsImRvbWFpbkZvclVybCIsInVybCIsIm1hdGNoIiwiaXNGdW5jdGlvbiIsIngiLCJ0b1N0cmluZyIsImFycmF5SGFzVmFsdWVzIiwiY2hlY2tBcnJheSIsImZpbHRlciIsImdldEJvb2wiLCJwYXJzZUludCIsIl91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheSIsIm1pbkxlbiIsInNsaWNlIiwiY29uc3RydWN0b3IiLCJ0ZXN0IiwiX2RlZmluZVByb3BlcnR5Iiwib2JqIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJvd25LZXlzIiwiZW51bWVyYWJsZU9ubHkiLCJrZXlzIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwic3ltYm9scyIsInN5bSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsInB1c2giLCJhcHBseSIsIl9vYmplY3RTcHJlYWQyIiwidGFyZ2V0IiwiYXJndW1lbnRzIiwic291cmNlIiwiZm9yRWFjaCIsImdldE93blByb3BlcnR5RGVzY3JpcHRvcnMiLCJkZWZpbmVQcm9wZXJ0aWVzIiwic2V0TG9naW5Mb2FkZWQiLCJjb29raWVTdHJpbmciLCJzaXRlQ29va2llcyIsImRvY3VtZW50IiwiY29va2llIiwic3BsaXQiLCJtYXAiLCJ0cmltIiwicmVkdWNlIiwiY29va2llc09iamVjdCIsImN1cnJlbnRBcnJheSIsImRlY29kZVVSSUNvbXBvbmVudCIsImxvZ2luTWVzc2FnZSIsInVzZXJJZCIsInRva2VuIiwic2V0VGltZW91dCIsInNlbmRNZXNzYWdlIiwidHlwZSIsInBheWxvYWQiLCJyZWFkeVN0YXRlIiwiYWRkRXZlbnRMaXN0ZW5lciIsIm1lc3NhZ2UiLCJzYWZhcmkiLCJleHRlbnNpb24iLCJkaXNwYXRjaE1lc3NhZ2UiLCJjaHJvbWUiLCJydW50aW1lIiwiY29va2llcyIsIm9wZW5VcmwiLCJ0YWJzIiwicXVlcnkiLCJhY3RpdmUiLCJjdXJyZW50V2luZG93IiwidGFiIiwidXBkYXRlIiwiaWQiLCJvcGVuVGFiV2l0aFVybCIsImluQmFja2dyb3VuZCIsIm1ha2VUYWJBY3RpdmUiLCJzZXRUb29sYmFySWNvbiIsInRhYklkIiwiaWNvbk5hbWUiLCJkYXJrTW9kZSIsIndpbmRvdyIsIm1hdGNoTWVkaWEiLCJtYXRjaGVzIiwic21hbGxJY29uUGF0aCIsImJpZ0ljb25QYXRoIiwiYnJvd3NlckFjdGlvbiIsInNldEljb24iLCJwYXRoIiwidXBkYXRlVG9vbGJhckljb24iLCJhY3RpdmF0ZUljb24iLCJnZXRTZXR0aW5nIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSJdLCJtYXBwaW5ncyI6ImFBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVUMsUUFHbkMsSUFBSUMsRUFBU0osRUFBaUJFLEdBQVksQ0FDekNHLEVBQUdILEVBQ0hJLEdBQUcsRUFDSEgsUUFBUyxJQVVWLE9BTkFJLEVBQVFMLEdBQVVNLEtBQUtKLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNGLEdBRy9ERyxFQUFPRSxHQUFJLEVBR0pGLEVBQU9ELFFBS2ZGLEVBQW9CUSxFQUFJRixFQUd4Qk4sRUFBb0JTLEVBQUlWLEVBR3hCQyxFQUFvQlUsRUFBSSxTQUFTUixFQUFTUyxFQUFNQyxHQUMzQ1osRUFBb0JhLEVBQUVYLEVBQVNTLElBQ2xDRyxPQUFPQyxlQUFlYixFQUFTUyxFQUFNLENBQUVLLFlBQVksRUFBTUMsSUFBS0wsS0FLaEVaLEVBQW9Ca0IsRUFBSSxTQUFTaEIsR0FDWCxxQkFBWGlCLFFBQTBCQSxPQUFPQyxhQUMxQ04sT0FBT0MsZUFBZWIsRUFBU2lCLE9BQU9DLFlBQWEsQ0FBRUMsTUFBTyxXQUU3RFAsT0FBT0MsZUFBZWIsRUFBUyxhQUFjLENBQUVtQixPQUFPLEtBUXZEckIsRUFBb0JzQixFQUFJLFNBQVNELEVBQU9FLEdBRXZDLEdBRFUsRUFBUEEsSUFBVUYsRUFBUXJCLEVBQW9CcUIsSUFDL0IsRUFBUEUsRUFBVSxPQUFPRixFQUNwQixHQUFXLEVBQVBFLEdBQThCLGtCQUFWRixHQUFzQkEsR0FBU0EsRUFBTUcsV0FBWSxPQUFPSCxFQUNoRixJQUFJSSxFQUFLWCxPQUFPWSxPQUFPLE1BR3ZCLEdBRkExQixFQUFvQmtCLEVBQUVPLEdBQ3RCWCxPQUFPQyxlQUFlVSxFQUFJLFVBQVcsQ0FBRVQsWUFBWSxFQUFNSyxNQUFPQSxJQUN0RCxFQUFQRSxHQUE0QixpQkFB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QUNoRVIsT0FBT0ksS0FBS0ssT0FBT0QsRUFBSSxHQUFHRSxHQUFJLENBQUV0RSxXQUk3QixTQUFTdUUsRUFBZXZFLEVBQUt3RSxHQUNsQyxJQUFJQyxHQUFpQyxJQUFqQkQsRUFDcEIsT0FBT1osT0FBT0ksS0FBS2hKLE9BQU8sQ0FBRWdGLElBQUtBLEVBQUtrRSxPQUFRTyxJQU96QyxTQUFTQyxFQUFlQyxFQUFPQyxHQUNwQyxJQUdNQyxFQUZKQyxPQUFPQyxZQUNQRCxPQUFPQyxXQUFXLGdDQUFnQ0MsUUFDckIsUUFBVSxHQUVuQ0MsRUFBYSxpQkFBYUwsR0FBYixPQUF3QkMsRUFBeEIsV0FDYkssRUFBVyxpQkFBYU4sR0FBYixPQUF3QkMsRUFBeEIsV0FFakJqQixPQUFPdUIsY0FBY0MsUUFBUSxDQUMzQlQsUUFDQVUsS0FBTSxDQUNKLEdBQU1KLEVBQ04sR0FBTUMsS0FLTCxTQUFTSSxFQUFrQlgsRUFBT1ksR0FFbkNiLEVBQWVDLEVBRG5CWSxFQUMwQiw0QkFDQSx1QkFjckIsU0FBU0MsRUFBV3ZLLEdBQ3pCLE9BQU93SyxhQUFhQyxRQUFReksiLCJmaWxlIjoianMvbG9naW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIi9cIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDcwKTtcbiIsImV4cG9ydCBjb25zdCBNQUlOX1NDUklQVF9JTkpFQ1RFRCA9ICdNQUlOX1NDUklQVF9JTkpFQ1RFRCdcbmV4cG9ydCBjb25zdCBMT0dHRURfT1VUX09GX1BPQ0tFVCA9ICdMT0dHRURfT1VUX09GX1BPQ0tFVCdcbmV4cG9ydCBjb25zdCBBUkNISVZFX0lURU0gPSAnQVJDSElWRV9JVEVNJ1xuZXhwb3J0IGNvbnN0IFJFTU9WRV9JVEVNID0gJ1JFTU9WRV9JVEVNJ1xuZXhwb3J0IGNvbnN0IE9QRU5fUE9DS0VUID0gJ09QRU5fUE9DS0VUJ1xuZXhwb3J0IGNvbnN0IEFVVEhfQ09ERV9SRUNFSVZFRCA9ICdBVVRIX0NPREVfUkVDRUlWRUQnXG5leHBvcnQgY29uc3QgQ09MT1JfTU9ERV9DSEFOR0UgPSAnQ09MT1JfTU9ERV9DSEFOR0UnXG5leHBvcnQgY29uc3QgVE9HR0xFX09OX1NBVkVfUkVDUyA9ICdUT0dHTEVfT05fU0FWRV9SRUNTJ1xuZXhwb3J0IGNvbnN0IFRPR0dMRV9UV0lUVEVSID0gJ1RPR0dMRV9UV0lUVEVSJ1xuXG5leHBvcnQgY29uc3QgU0FWRV9UT19QT0NLRVRfUkVRVUVTVCA9ICdTQVZFX1RPX1BPQ0tFVF9SRVFVRVNUJ1xuZXhwb3J0IGNvbnN0IFNBVkVfVE9fUE9DS0VUX1NVQ0NFU1MgPSAnU0FWRV9UT19QT0NLRVRfU1VDQ0VTUydcbmV4cG9ydCBjb25zdCBTQVZFX1RPX1BPQ0tFVF9GQUlMVVJFID0gJ1NBVkVfVE9fUE9DS0VUX0ZBSUxVUkUnXG5leHBvcnQgY29uc3QgU0FWRV9UT19QT0NLRVRfVVBEQVRFID0gJ1NBVkVfVE9fUE9DS0VUX1VQREFURSdcbmV4cG9ydCBjb25zdCBTQVZFX1RPX1BPQ0tFVF9DT01QTEVURSA9ICdTQVZFX1RPX1BPQ0tFVF9DT01QTEVURSdcblxuZXhwb3J0IGNvbnN0IEFSQ0hJVkVfSVRFTV9SRVFVRVNUID0gJ0FSQ0hJVkVfSVRFTV9SRVFVRVNUJ1xuZXhwb3J0IGNvbnN0IEFSQ0hJVkVfSVRFTV9TVUNDRVNTID0gJ0FSQ0hJVkVfSVRFTV9TVUNDRVNTJ1xuZXhwb3J0IGNvbnN0IEFSQ0hJVkVfSVRFTV9GQUlMVVJFID0gJ0FSQ0hJVkVfSVRFTV9GQUlMVVJFJ1xuXG5leHBvcnQgY29uc3QgUkVNT1ZFX0lURU1fUkVRVUVTVCA9ICdSRU1PVkVfSVRFTV9SRVFVRVNUJ1xuZXhwb3J0IGNvbnN0IFJFTU9WRV9JVEVNX1NVQ0NFU1MgPSAnUkVNT1ZFX0lURU1fU1VDQ0VTUydcbmV4cG9ydCBjb25zdCBSRU1PVkVfSVRFTV9GQUlMVVJFID0gJ1JFTU9WRV9JVEVNX0ZBSUxVUkUnXG5cbmV4cG9ydCBjb25zdCBTVUdHRVNURURfVEFHU19SRVFVRVNUID0gJ1NVR0dFU1RFRF9UQUdTX1JFUVVFU1QnXG5leHBvcnQgY29uc3QgU1VHR0VTVEVEX1RBR1NfU1VDQ0VTUyA9ICdTVUdHRVNURURfVEFHU19TVUNDRVNTJ1xuZXhwb3J0IGNvbnN0IFNVR0dFU1RFRF9UQUdTX0ZBSUxVUkUgPSAnU1VHR0VTVEVEX1RBR1NfRkFJTFVSRSdcblxuZXhwb3J0IGNvbnN0IFRBR19BQ1RJVkFURSA9ICdUQUdfQUNUSVZBVEUnXG5leHBvcnQgY29uc3QgVEFHX0RFQUNUSVZBVEUgPSAnVEFHX0RFQUNUSVZBVEUnXG5leHBvcnQgY29uc3QgVEFHU19ERUFDVElWQVRFID0gJ1RBR1NfREVBQ1RJVkFURSdcbmV4cG9ydCBjb25zdCBUQUdfQUREID0gJ1RBR19BREQnXG5leHBvcnQgY29uc3QgVEFHX1JFTU9WRSA9ICdUQUdfUkVNT1ZFJ1xuZXhwb3J0IGNvbnN0IFRBR1NfUkVNT1ZFID0gJ1RBR1NfUkVNT1ZFJ1xuZXhwb3J0IGNvbnN0IFRBR1NfQURERURfRkFJTFVSRSA9ICdUQUdTX0FEREVEX0ZBSUxVUkUnXG5leHBvcnQgY29uc3QgVEFHU19BRERFRF9TVUNDRVNTID0gJ1RBR1NfQURERURfU1VDQ0VTUydcblxuZXhwb3J0IGNvbnN0IEVESVRfVEFHUyA9ICdFRElUX1RBR1MnXG5leHBvcnQgY29uc3QgVEFHU19TWU5DID0gJ1RBR1NfU1lOQydcbmV4cG9ydCBjb25zdCBUQUdfU1lOQ19SRVFVRVNUID0gJ1RBR19TWU5DX1JFUVVFU1QnXG5leHBvcnQgY29uc3QgVEFHX1NZTkNfU1VDQ0VTUyA9ICdUQUdfU1lOQ19TVUNDRVNTJ1xuZXhwb3J0IGNvbnN0IFRBR19TWU5DX0ZBSUxVUkUgPSAnVEFHX1NZTkNfRkFJTFVSRSdcblxuZXhwb3J0IGNvbnN0IFVQREFURV9TVE9SRURfVEFHUyA9ICdVUERBVEVfU1RPUkVEX1RBR1MnXG5cbmV4cG9ydCBjb25zdCBVU0VSX0xPR19JTiA9ICdVU0VSX0xPR19JTidcbmV4cG9ydCBjb25zdCBVU0VSX0xPR19JTl9TVUNDRVNTID0gJ1VTRVJfTE9HX0lOX1NVQ0NFU1MnXG5leHBvcnQgY29uc3QgVVNFUl9MT0dfSU5fRkFJTFVSRSA9ICdVU0VSX0xPR19JTl9GQUlMVVJFJ1xuXG5leHBvcnQgY29uc3QgVVNFUl9MT0dfT1VUID0gJ1VTRVJfTE9HX09VVCdcbmV4cG9ydCBjb25zdCBVU0VSX0xPR19PVVRfU1VDQ0VTUyA9ICdVU0VSX0xPR19PVVRfU1VDQ0VTUydcbmV4cG9ydCBjb25zdCBVU0VSX0xPR19PVVRfRkFJTFVSRSA9ICdVU0VSX0xPR19JTl9GQUlMVVJFJ1xuXG5leHBvcnQgY29uc3QgR0VUX1JFQ1NfUkVRVUVTVCA9ICdHRVRfUkVDU19SRVFVRVNUJ1xuZXhwb3J0IGNvbnN0IEdFVF9SRUNTX1NVQ0NFU1MgPSAnR0VUX1JFQ1NfU1VDQ0VTUydcbmV4cG9ydCBjb25zdCBHRVRfUkVDU19GQUlMVVJFID0gJ0dFVF9SRUNTX0ZBSUxVUkUnXG5cbmV4cG9ydCBjb25zdCBTQVZFX1JFQyA9ICdTQVZFX1JFQydcbmV4cG9ydCBjb25zdCBTQVZFX1JFQ19SRVFVRVNUID0gJ1NBVkVfUkVDX1JFUVVFU1QnXG5leHBvcnQgY29uc3QgU0FWRV9SRUNfU1VDQ0VTUyA9ICdTQVZFX1JFQ19TVUNDRVNTJ1xuZXhwb3J0IGNvbnN0IFNBVkVfUkVDX0ZBSUxVUkUgPSAnU0FWRV9SRUNfRkFJTFVSRSdcblxuZXhwb3J0IGNvbnN0IE9QRU5fUkVDID0gJ09QRU5fUkVDJ1xuXG5leHBvcnQgY29uc3QgQ0hFQ0tfVFdJVFRFUl9JTlRFR1JBVElPTiA9ICdDSEVDS19UV0lUVEVSX0lOVEVHUkFUSU9OJ1xuZXhwb3J0IGNvbnN0IFNUQVJUX1RXSVRURVJfSU5URUdSQVRJT04gPSAnU1RBUlRfVFdJVFRFUl9JTlRFR1JBVElPTidcbmV4cG9ydCBjb25zdCBTVE9QX1RXSVRURVJfSU5URUdSQVRJT04gPSAnU1RPUF9UV0lUVEVSX0lOVEVHUkFUSU9OJ1xuZXhwb3J0IGNvbnN0IFNBVkVfVFdFRVRfVE9fUE9DS0VUID0gJ1NBVkVfVFdFRVRfVE9fUE9DS0VUJ1xuXG5leHBvcnQgY29uc3QgVFdJVFRFUl9TQVZFX1JFUVVFU1QgPSAnVFdJVFRFUl9TQVZFX1JFUVVFU1QnXG5leHBvcnQgY29uc3QgVFdJVFRFUl9TQVZFX1NVQ0NFU1MgPSAnVFdJVFRFUl9TQVZFX1NVQ0NFU1MnXG5leHBvcnQgY29uc3QgVFdJVFRFUl9TQVZFX0ZBSUxVUkUgPSAnVFdJVFRFUl9TQVZFX0ZBSUxVUkUnXG4iLCJpbXBvcnQgYXJyYXlXaXRob3V0SG9sZXMgZnJvbSBcIi4vYXJyYXlXaXRob3V0SG9sZXNcIjtcbmltcG9ydCBpdGVyYWJsZVRvQXJyYXkgZnJvbSBcIi4vaXRlcmFibGVUb0FycmF5XCI7XG5pbXBvcnQgdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkgZnJvbSBcIi4vdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXlcIjtcbmltcG9ydCBub25JdGVyYWJsZVNwcmVhZCBmcm9tIFwiLi9ub25JdGVyYWJsZVNwcmVhZFwiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikge1xuICByZXR1cm4gYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB8fCBpdGVyYWJsZVRvQXJyYXkoYXJyKSB8fCB1bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIpIHx8IG5vbkl0ZXJhYmxlU3ByZWFkKCk7XG59IiwiaW1wb3J0IGFycmF5TGlrZVRvQXJyYXkgZnJvbSBcIi4vYXJyYXlMaWtlVG9BcnJheVwiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2FycmF5V2l0aG91dEhvbGVzKGFycikge1xuICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyYXlMaWtlVG9BcnJheShhcnIpO1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXkoaXRlcikge1xuICBpZiAodHlwZW9mIFN5bWJvbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGl0ZXIpKSByZXR1cm4gQXJyYXkuZnJvbShpdGVyKTtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfbm9uSXRlcmFibGVTcHJlYWQoKSB7XG4gIHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpO1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7XG4gIGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoO1xuXG4gIGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykge1xuICAgIGFycjJbaV0gPSBhcnJbaV07XG4gIH1cblxuICByZXR1cm4gYXJyMjtcbn0iLCIvKiBVdGlsaXRpZXNcbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vKiBUaGVzZSBhcmUgc2luZ2xlIGZ1bmN0aW9uIHV0aWxpdGllcyB0aGF0IHJlbHkgb25cbi8qIG5vIGV4dGVybmFsIGxpYnJhcmllcyBvciBmaWxlc1xu4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCTICovXG5leHBvcnQgZnVuY3Rpb24gaXNWYWxpZFVybChwYXNzZWRTdHJpbmcpIHtcbiAgY29uc3QgdmFsaWRVcmxUZXN0UGF0dGVybiA9IC9eKD86KD86aHR0cHM/fGZ0cCk6XFwvXFwvKSg/OlxcUysoPzo6XFxTKik/QCk/KD86KD8hKD86MTB8MTI3KSg/OlxcLlxcZHsxLDN9KXszfSkoPyEoPzoxNjlcXC4yNTR8MTkyXFwuMTY4KSg/OlxcLlxcZHsxLDN9KXsyfSkoPyExNzJcXC4oPzoxWzYtOV18MlxcZHwzWzAtMV0pKD86XFwuXFxkezEsM30pezJ9KSg/OlsxLTldXFxkP3wxXFxkXFxkfDJbMDFdXFxkfDIyWzAtM10pKD86XFwuKD86MT9cXGR7MSwyfXwyWzAtNF1cXGR8MjVbMC01XSkpezJ9KD86XFwuKD86WzEtOV1cXGQ/fDFcXGRcXGR8MlswLTRdXFxkfDI1WzAtNF0pKXwoPzooPzpbYS16XFx1MDBhMS1cXHVmZmZmMC05XS0qKSpbYS16XFx1MDBhMS1cXHVmZmZmMC05XSspKD86XFwuKD86W2EtelxcdTAwYTEtXFx1ZmZmZjAtOV0tKikqW2EtelxcdTAwYTEtXFx1ZmZmZjAtOV0rKSooPzpcXC4oPzpbYS16XFx1MDBhMS1cXHVmZmZmXXsyLH0pKVxcLj8pKD86OlxcZHsyLDV9KT8oPzpbLz8jXVxcUyopPyQvaVxuICByZXR1cm4gdmFsaWRVcmxUZXN0UGF0dGVybi50ZXN0KHBhc3NlZFN0cmluZylcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzVmFsaWRBZGRyZXNzKHBhc3NlZFN0cmluZykge1xuICBjb25zdCB2YWxpZEFkZHJlc3NQYXR0ZXJuID0gL14oPzooPzpodHRwcz98ZnRwKTpcXC9cXC8pPyg/OlxcUysoPzo6XFxTKik/QCk/KD86KD8hKD86MTB8MTI3KSg/OlxcLlxcZHsxLDN9KXszfSkoPyEoPzoxNjlcXC4yNTR8MTkyXFwuMTY4KSg/OlxcLlxcZHsxLDN9KXsyfSkoPyExNzJcXC4oPzoxWzYtOV18MlxcZHwzWzAtMV0pKD86XFwuXFxkezEsM30pezJ9KSg/OlsxLTldXFxkP3wxXFxkXFxkfDJbMDFdXFxkfDIyWzAtM10pKD86XFwuKD86MT9cXGR7MSwyfXwyWzAtNF1cXGR8MjVbMC01XSkpezJ9KD86XFwuKD86WzEtOV1cXGQ/fDFcXGRcXGR8MlswLTRdXFxkfDI1WzAtNF0pKXwoPzooPzpbYS16XFx1MDBhMS1cXHVmZmZmMC05XS0qKSpbYS16XFx1MDBhMS1cXHVmZmZmMC05XSspKD86XFwuKD86W2EtelxcdTAwYTEtXFx1ZmZmZjAtOV0tKikqW2EtelxcdTAwYTEtXFx1ZmZmZjAtOV0rKSooPzpcXC4oPzpbYS16XFx1MDBhMS1cXHVmZmZmXXsyLH0pKVxcLj8pKD86OlxcZHsyLDV9KT8oPzpbLz8jXVxcUyopPyQvaVxuICByZXR1cm4gdmFsaWRBZGRyZXNzUGF0dGVybi50ZXN0KHBhc3NlZFN0cmluZylcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVZhbGlkVXJsKHBhc3NlZFN0cmluZykge1xuICBjb25zdCBoYXNQcm90b2NvbCA9IC9eKD86KD86aHR0cHM/fGZ0cCk6XFwvXFwvKS9nXG4gIHJldHVybiBoYXNQcm90b2NvbC50ZXN0KHBhc3NlZFN0cmluZylcbiAgICA/IHBhc3NlZFN0cmluZ1xuICAgIDogJ2h0dHA6Ly8nICsgcGFzc2VkU3RyaW5nXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkb21haW5Gb3JVcmwodXJsKSB7XG4gIGNvbnN0IG1hdGNoID0gdXJsLm1hdGNoKFxuICAgIC9eKD86aHR0cHM/OlxcL1xcLyk/KD86W15AXFxuXStAKT8oPzp3d3dcXC4pPyhbXjovXFxuPz1dKykvaW1cbiAgKVxuICByZXR1cm4gbWF0Y2hbMV1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGJhc2VEb21haW5VcmwodXJsKSB7XG4gIGNvbnN0IHBhdGhBcnJheSA9IHVybC5zcGxpdCgnLycpXG4gIGNvbnN0IHByb3RvY29sID0gcGF0aEFycmF5WzBdXG4gIGNvbnN0IGhvc3QgPSBwYXRoQXJyYXlbMl1cbiAgcmV0dXJuIHByb3RvY29sICsgJy8vJyArIGhvc3Rcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzRnVuY3Rpb24oeCkge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHgpID09PSAnW29iamVjdCBGdW5jdGlvbl0nXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhcnJheUhhc1ZhbHVlcyhjaGVja0FycmF5KSB7XG4gIHJldHVybiBjaGVja0FycmF5LmZpbHRlcih2YWx1ZSA9PiB2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgIT09ICd1bmRlZmluZWQnKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2hhbGxvd1F1ZXJ5UGFyYW1zKHNvdXJjZSkge1xuICBjb25zdCBhcnJheSA9IFtdXG4gIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICBpZiAoc291cmNlW2tleV0pIHtcbiAgICAgIGxldCB0eXBlID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZ1xuICAgICAgICAuY2FsbChzb3VyY2Vba2V5XSlcbiAgICAgICAgLm1hdGNoKC9cXFtvYmplY3QgKFxcdyspXFxdLylbMV1cbiAgICAgIGlmICh0eXBlID09PSAnU3RyaW5nJyB8fCB0eXBlID09PSAnTnVtYmVyJykge1xuICAgICAgICBhcnJheS5wdXNoKFxuICAgICAgICAgIGVuY29kZVVSSUNvbXBvbmVudChrZXkpICsgJz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHNvdXJjZVtrZXldKVxuICAgICAgICApXG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBhcnJheS5qb2luKCcmJylcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJhbmRvbUVudHJ5KGFycmF5KSB7XG4gIHJldHVybiBhcnJheVtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBhcnJheS5sZW5ndGgpXVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdGhyb3R0bGUoY2FsbGJhY2ssIHdhaXQsIGNvbnRleHQgPSB0aGlzKSB7XG4gIGxldCB0aW1lb3V0ID0gbnVsbFxuICBsZXQgY2FsbGJhY2tBcmdzID0gbnVsbFxuXG4gIGNvbnN0IGxhdGVyID0gKCkgPT4ge1xuICAgIGNhbGxiYWNrLmFwcGx5KGNvbnRleHQsIGNhbGxiYWNrQXJncylcbiAgICB0aW1lb3V0ID0gbnVsbFxuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIGlmICghdGltZW91dCkge1xuICAgICAgY2FsbGJhY2tBcmdzID0gYXJndW1lbnRzXG4gICAgICB0aW1lb3V0ID0gc2V0VGltZW91dChsYXRlciwgd2FpdClcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEJvb2wodmFsdWUpIHtcbiAgcmV0dXJuIChcbiAgICB2YWx1ZSA9PT0gdHJ1ZSB8fFxuICAgIHZhbHVlID09PSAndHJ1ZScgfHxcbiAgICB2YWx1ZSA9PT0gMSB8fFxuICAgIHBhcnNlSW50KHZhbHVlLCAxMCkgPT09IDFcbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gbWVyZ2VEZWR1cGUoYXJyYXlPZkFycmF5cykge1xuICByZXR1cm4gWy4uLm5ldyBTZXQoW10uY29uY2F0KC4uLmFycmF5T2ZBcnJheXMpKV1cbn1cbiIsImltcG9ydCBhcnJheUxpa2VUb0FycmF5IGZyb20gXCIuL2FycmF5TGlrZVRvQXJyYXlcIjtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHtcbiAgaWYgKCFvKSByZXR1cm47XG4gIGlmICh0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIGFycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTtcbiAgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpO1xuICBpZiAobiA9PT0gXCJPYmplY3RcIiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lO1xuICBpZiAobiA9PT0gXCJNYXBcIiB8fCBuID09PSBcIlNldFwiKSByZXR1cm4gQXJyYXkuZnJvbShuKTtcbiAgaWYgKG4gPT09IFwiQXJndW1lbnRzXCIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBhcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkge1xuICBpZiAoa2V5IGluIG9iaikge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwge1xuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgb2JqW2tleV0gPSB2YWx1ZTtcbiAgfVxuXG4gIHJldHVybiBvYmo7XG59IiwiaW1wb3J0IGRlZmluZVByb3BlcnR5IGZyb20gXCIuL2RlZmluZVByb3BlcnR5XCI7XG5cbmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkge1xuICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7XG5cbiAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcbiAgICB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTtcbiAgICBpZiAoZW51bWVyYWJsZU9ubHkpIHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7XG4gICAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTtcbiAgICB9KTtcbiAgICBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7XG4gIH1cblxuICByZXR1cm4ga2V5cztcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX29iamVjdFNwcmVhZDIodGFyZ2V0KSB7XG4gIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307XG5cbiAgICBpZiAoaSAlIDIpIHtcbiAgICAgIG93bktleXMoT2JqZWN0KHNvdXJjZSksIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBkZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn0iLCJpbXBvcnQgeyBzZW5kTWVzc2FnZSB9IGZyb20gJ2NvbW1vbi9pbnRlcmZhY2UnXG5pbXBvcnQgeyBBVVRIX0NPREVfUkVDRUlWRUQgfSBmcm9tICdhY3Rpb25zJ1xuXG4vLyBDaGVjayBwYWdlIGhhcyBsb2FkZWQgYW5kIGlmIG5vdCBhZGQgbGlzdGVuZXIgZm9yIGl0XG5pZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gJ2xvYWRpbmcnKSB7XG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBzZXRMb2dpbkxvYWRlZClcbn0gZWxzZSB7XG4gIHNldExvZ2luTG9hZGVkKClcbn1cblxuZnVuY3Rpb24gc2V0TG9naW5Mb2FkZWQoKSB7XG4gIGNvbnN0IHNpdGVDb29raWVzID0gZ2V0Q29va2llcyhkb2N1bWVudC5jb29raWUpXG4gIGNvbnN0IGxvZ2luTWVzc2FnZSA9IHtcbiAgICB1c2VySWQ6IHNpdGVDb29raWVzWydzZXNzX3VzZXJfaWQnXSxcbiAgICB0b2tlbjogc2l0ZUNvb2tpZXNbJ3Nlc3NfZXh0dG9rJ11cbiAgfVxuXG4gIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgc2VuZE1lc3NhZ2Uoe1xuICAgICAgdHlwZTogQVVUSF9DT0RFX1JFQ0VJVkVELFxuICAgICAgcGF5bG9hZDogbG9naW5NZXNzYWdlXG4gICAgfSlcbiAgfSwgMTAwMClcbn1cblxuLyogVVRJTElUSUVTXG7igJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJMgKi9cbmZ1bmN0aW9uIGdldENvb2tpZXMoY29va2llU3RyaW5nKSB7XG4gIGlmICghY29va2llU3RyaW5nIHx8IGNvb2tpZVN0cmluZyA9PT0gJycpIHJldHVybiB7fVxuICByZXR1cm4gY29va2llU3RyaW5nXG4gICAgLnNwbGl0KCc7JylcbiAgICAubWFwKHggPT4geC50cmltKCkuc3BsaXQoLyg9KS8pKVxuICAgIC5yZWR1Y2UoXG4gICAgICAoY29va2llc09iamVjdCwgY3VycmVudEFycmF5KSA9PiAoe1xuICAgICAgICAuLi5jb29raWVzT2JqZWN0LFxuICAgICAgICBbY3VycmVudEFycmF5WzBdXTogZGVjb2RlVVJJQ29tcG9uZW50KGN1cnJlbnRBcnJheVsyXSlcbiAgICAgIH0pLFxuICAgICAge31cbiAgICApXG59XG4iLCIvKiBnbG9iYWwgY2hyb21lIHNhZmFyaSAqL1xuXG4vKiBVdGlsaXRpZXNcbuKAk+KAk+KAk+KAk+KAk+KAk+KAk+KAk+KAk+KAk+KAk+KAk+KAk+KAk+KAk+KAk+KAk+KAk+KAk+KAk+KAk+KAk+KAk+KAk+KAk+KAk+KAk+KAk+KAk+KAk+KAk+KAk+KAk+KAk+KAk+KAk+KAk+KAk+KAk+KAk+KAk+KAk+KAk+KAk+KAk+KAk+KAk+KAk+KAk+KAkyAqL1xuaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4vdXRpbGl0aWVzJ1xuXG4vKiBMaXN0ZW5lcnMgRnVuY3Rpb25zXG7igJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJMgKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGRNZXNzYWdlTGlzdGVuZXIoaGFuZGxlcikge1xuICByZXR1cm4gY2hyb21lLnJ1bnRpbWUub25NZXNzYWdlLmFkZExpc3RlbmVyKGhhbmRsZXIpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVNZXNzYWdlTGlzdGVuZXIoaGFuZGxlcikge1xuICByZXR1cm4gY2hyb21lLnJ1bnRpbWUub25NZXNzYWdlLnJlbW92ZUxpc3RlbmVyKGhhbmRsZXIpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBvblVwZGF0ZUF2YWlsYWJsZShoYW5kbGVyKSB7XG4gIHJldHVybiBjaHJvbWUucnVudGltZS5vblVwZGF0ZUF2YWlsYWJsZS5hZGRMaXN0ZW5lcihoYW5kbGVyKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVsb2FkRXh0ZW5zaW9uKCkge1xuICByZXR1cm4gY2hyb21lLnJ1bnRpbWUucmVsb2FkKClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG9uSW5zdGFsbGVkKCkge1xuICByZXR1cm4gY2hyb21lLnJ1bnRpbWUub25JbnN0YWxsZWRcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldFVuaW5zdGFsbFVybCh1cmwpIHtcbiAgcmV0dXJuIGNocm9tZS5ydW50aW1lLnNldFVuaW5zdGFsbFVSTCh1cmwpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBvblN1c3BlbmQoKSB7XG4gIHJldHVybiBjaHJvbWUucnVudGltZS5vblN1c3BlbmRcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG9uVGFiQWN0aXZhdGVkKGNhbGxiYWNrKSB7XG4gIHJldHVybiBjaHJvbWUudGFicy5vbkFjdGl2YXRlZC5hZGRMaXN0ZW5lcihjYWxsYmFjaylcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG9uVGFiVXBkYXRlKGNhbGxiYWNrKSB7XG4gIHJldHVybiBjaHJvbWUudGFicy5vblVwZGF0ZWQuYWRkTGlzdGVuZXIoY2FsbGJhY2spXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBvblRhYkNyZWF0ZWQoY2FsbGJhY2spIHtcbiAgcmV0dXJuIGNocm9tZS50YWJzLm9uQ3JlYXRlZC5hZGRMaXN0ZW5lcihjYWxsYmFjaylcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG9uVGFiUmVtb3ZlZChjYWxsYmFjaykge1xuICByZXR1cm4gY2hyb21lLnRhYnMub25SZW1vdmVkLmFkZExpc3RlbmVyKGNhbGxiYWNrKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gb25UYWJSZXBsYWNlZChjYWxsYmFjaykge1xuICByZXR1cm4gY2hyb21lLnRhYnMub25SZXBsYWNlZC5hZGRMaXN0ZW5lcihjYWxsYmFjaylcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG9uRm9jdXNDaGFuZ2VkKGNhbGxiYWNrKSB7XG4gIHJldHVybiBjaHJvbWUud2luZG93cy5vbkZvY3VzQ2hhbmdlZC5hZGRMaXN0ZW5lcihjYWxsYmFjaylcbn1cblxuLyogTWVzc2FnaW5nXG7igJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJPigJMgKi9cbmV4cG9ydCBmdW5jdGlvbiBzZW5kTWVzc2FnZShtZXNzYWdlKSB7XG4gIGlmICh0eXBlb2Ygc2FmYXJpICE9PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiBzYWZhcmkuZXh0ZW5zaW9uLmRpc3BhdGNoTWVzc2FnZShtZXNzYWdlLnR5cGUsIG1lc3NhZ2UucGF5bG9hZClcbiAgfVxuXG4gIGNocm9tZS5ydW50aW1lLnNlbmRNZXNzYWdlKG1lc3NhZ2UpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZW5kTWVzc2FnZVRvVGFiKHRhYklkLCBtZXNzYWdlLCBjYikge1xuICBsZXQgY2FsbGJhY2sgPSBpc0Z1bmN0aW9uKGNiKSA/IGNiIDogKCkgPT4ge31cbiAgcmV0dXJuIGNocm9tZS50YWJzLnNlbmRNZXNzYWdlKHRhYklkLCBtZXNzYWdlLCBjYWxsYmFjaylcbn1cblxuLyogQnJvd3Nlclxu4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCTICovXG5leHBvcnQgZnVuY3Rpb24gY29va2llcygpIHtcbiAgcmV0dXJuIGNocm9tZS5jb29raWVzXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRVUkwodXJsKSB7XG4gIHJldHVybiBjaHJvbWUucnVudGltZS5nZXRVUkwodXJsKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gb3BlblVybCh1cmwpIHtcbiAgY2hyb21lLnRhYnMucXVlcnkoeyBhY3RpdmU6IHRydWUsIGN1cnJlbnRXaW5kb3c6IHRydWUgfSwgZnVuY3Rpb24odGFiKSB7XG4gICAgY2hyb21lLnRhYnMudXBkYXRlKHRhYlswXS5pZCwgeyB1cmwgfSlcbiAgfSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG9wZW5UYWJXaXRoVXJsKHVybCwgaW5CYWNrZ3JvdW5kKSB7XG4gIGxldCBtYWtlVGFiQWN0aXZlID0gaW5CYWNrZ3JvdW5kID09PSB0cnVlID8gZmFsc2UgOiB0cnVlIC8vZXNsaW50LWRpc2FibGUtbGluZSBuby11bm5lZWRlZC10ZXJuYXJ5XG4gIHJldHVybiBjaHJvbWUudGFicy5jcmVhdGUoeyB1cmw6IHVybCwgYWN0aXZlOiBtYWtlVGFiQWN0aXZlIH0pXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBvcGVuT3B0aW9ucygpIHtcbiAgcmV0dXJuIGNocm9tZS5ydW50aW1lLm9wZW5PcHRpb25zUGFnZSgpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRUb29sYmFySWNvbih0YWJJZCwgaWNvbk5hbWUpIHtcbiAgY29uc3QgcHJlZmVyc0RhcmsgPVxuICAgIHdpbmRvdy5tYXRjaE1lZGlhICYmXG4gICAgd2luZG93Lm1hdGNoTWVkaWEoJyhwcmVmZXJzLWNvbG9yLXNjaGVtZTogZGFyayknKS5tYXRjaGVzXG4gIGNvbnN0IGRhcmtNb2RlID0gcHJlZmVyc0RhcmsgPyAnLWRhcmsnIDogJydcblxuICBjb25zdCBzbWFsbEljb25QYXRoID0gYGltYWdlcy8ke2ljb25OYW1lfSR7ZGFya01vZGV9LTE5LnBuZ2BcbiAgY29uc3QgYmlnSWNvblBhdGggPSBgaW1hZ2VzLyR7aWNvbk5hbWV9JHtkYXJrTW9kZX0tMzgucG5nYFxuXG4gIGNocm9tZS5icm93c2VyQWN0aW9uLnNldEljb24oe1xuICAgIHRhYklkLFxuICAgIHBhdGg6IHtcbiAgICAgICcxOSc6IHNtYWxsSWNvblBhdGgsXG4gICAgICAnMzgnOiBiaWdJY29uUGF0aFxuICAgIH1cbiAgfSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZVRvb2xiYXJJY29uKHRhYklkLCBhY3RpdmF0ZUljb24pIHtcbiAgYWN0aXZhdGVJY29uXG4gICAgPyBzZXRUb29sYmFySWNvbih0YWJJZCwgJ2Jyb3dzZXItYWN0aW9uLWljb24tYWRkZWQnKVxuICAgIDogc2V0VG9vbGJhckljb24odGFiSWQsICdicm93c2VyLWFjdGlvbi1pY29uJylcbn1cblxuLyogUmVmZXJlbmNlc1xu4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCTICovXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRFeHRlbnNpb25JbmZvKCkge1xuICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgcmV0dXJuIGNocm9tZS5tYW5hZ2VtZW50LmdldFNlbGYocmVzb2x2ZSlcbiAgfSlcbn1cblxuLyogTG9jYWwgU3RvcmFnZVxu4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCT4oCTICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2V0dGluZyhrZXkpIHtcbiAgcmV0dXJuIGxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldFNldHRpbmdzKHZhbHVlcykge1xuICBPYmplY3Qua2V5cyh2YWx1ZXMpLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oa2V5LCB2YWx1ZXNba2V5XSlcbiAgfSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZVNldHRpbmdzKHZhbHVlcykge1xuICB2YWx1ZXMuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShrZXkpXG4gIH0pXG59XG4iXSwic291cmNlUm9vdCI6IiJ9